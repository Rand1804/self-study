# STM32

## 芯片信息

![image-20240106034554980](assets/image-20240106034554980.png)

![image-20240106040150483](assets/image-20240106040150483.png)

![image-20240106041050574](assets/image-20240106041050574.png)

![image-20240106042150280](assets/image-20240106042150280.png)

![image-20240106043738406](assets/image-20240106043738406.png)

![image-20240106043823674](assets/image-20240106043823674.png)

![image-20240106044421636](assets/image-20240106044421636.png)

![image-20240106052438217](assets/image-20240106052438217.png)

![image-20240106054503197](assets/image-20240106054503197.png)

## 引脚分布

![image-20240107225556774](assets/image-20240107225556774.png)

![image-20240107231236434](assets/image-20240107231236434.png)

### IO复用

![image-20240107231624433](assets/image-20240107231624433.png)

![image-20240107232019737](assets/image-20240107232019737.png)

![image-20240107232134018](assets/image-20240107232134018.png)

![image-20240107232323487](assets/image-20240107232323487.png)

### IO重映射

![image-20240107232544972](assets/image-20240107232544972.png)

![image-20240108013426591](assets/image-20240108013426591.png)

## GPIO

![image-20240108013800181](assets/image-20240108013800181.png)

### 寄存器组

![image-20240108014202494](assets/image-20240108014202494.png)

![image-20240108014434891](assets/image-20240108014434891.png)

![image-20240108015026727](assets/image-20240108015026727.png)

![image-20240108015136213](assets/image-20240108015136213.png)

![image-20240108015618931](assets/image-20240108015618931.png)

因为输入可以被多个片上外设和CPU同时读取，不会冲突

![image-20240108020018314](assets/image-20240108020018314.png)

**推挽**：P-MOS 和N-MOS 交替导通

**开漏**：P-MOS一直断开，即N-MOS的漏极一直断开，所以较开漏。写0输出低电平，写1 IO引脚就悬空了

![image-20240108021631186](assets/image-20240108021631186.png)

### 模拟模式

![image-20240108021938081](assets/image-20240108021938081.png)

![image-20240108022143885](assets/image-20240108022143885.png)

![image-20240108022336643](assets/image-20240108022336643.png)

![image-20240108022644878](assets/image-20240108022644878.png)

![image-20240108023217664](assets/image-20240108023217664.png)

![image-20240108023817232](assets/image-20240108023817232.png)

### 内部结构

![image-20240108024216341](assets/image-20240108024216341.png)

37个通用引脚中的一个

![image-20240108030437184](assets/image-20240108030437184.png)

真实信号会有一定抖动，但当负向递减时要低于VTL才会改变为0,所以对转换后的输出不影响。（滤波）

## LED实验

![image-20240108031734243](assets/image-20240108031734243.png)

![image-20240108212632101](assets/image-20240108212632101.png)

### 代码结构

![image-20240108213244939](assets/image-20240108213244939.png)

![image-20240108213754874](assets/image-20240108213754874.png)

### GPIO初始化

![image-20240109043948987](assets/image-20240109043948987.png)

![image-20240109044042288](assets/image-20240109044042288.png)

每个外设都需要使能时钟，为了在不使用时最大程度的**省电**

![image-20240109045809575](assets/image-20240109045809575.png)

### GPIO读写

![image-20240109053647528](assets/image-20240109053647528.png)